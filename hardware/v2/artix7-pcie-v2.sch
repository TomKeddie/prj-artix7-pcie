EESchema Schematic File Version 4
LIBS:artix7-pcie-v2-cache
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 7
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L tom-semiconductors:W25Q128 U2
U 1 1 5E5776FB
P 7050 1450
F 0 "U2" H 7050 1865 50  0000 C CNN
F 1 "W25Q64JVSSIM" H 7050 1774 50  0000 C CNN
F 2 "tom-semiconductors:SOIC-8_5.23x5.23mm_P1.27mm" H 7350 1550 50  0001 C CNN
F 3 "" H 7350 1550 50  0001 C CNN
	1    7050 1450
	1    0    0    -1  
$EndComp
$Comp
L artix7-pcie-v2:XC7A75T-FGG484 U1
U 6 1 5E57EF8A
P 1950 2200
F 0 "U1" H 671 2253 50  0000 R CNN
F 1 "XC7A75T-FGG484" H 671 2162 50  0000 R CNN
F 2 "artix7-pcie-v2:Xilinx_FGG484" H 1950 2200 50  0001 C CNN
F 3 "" H 1950 2200 50  0000 C CNN
	6    1950 2200
	1    0    0    -1  
$EndComp
$Comp
L tom-passives:C C2
U 1 1 5E5AB0F3
P 7100 900
F 0 "C2" H 7215 938 40  0000 L CNN
F 1 "0.1uF/6.3V/X5R" H 7215 862 40  0000 L CNN
F 2 "tom-passives:C_0402_1005Metric" H 7138 750 30  0001 C CNN
F 3 "" H 7100 900 60  0000 C CNN
	1    7100 900 
	0    -1   -1   0   
$EndComp
$Comp
L power:+3V3 #PWR019
U 1 1 5E5AC569
P 7700 1300
F 0 "#PWR019" H 7700 1150 50  0001 C CNN
F 1 "+3V3" H 7715 1473 50  0000 C CNN
F 2 "" H 7700 1300 50  0001 C CNN
F 3 "" H 7700 1300 50  0001 C CNN
	1    7700 1300
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR021
U 1 1 5E5ACB11
P 6900 900
F 0 "#PWR021" H 6900 750 50  0001 C CNN
F 1 "+3V3" H 6915 1073 50  0000 C CNN
F 2 "" H 6900 900 50  0001 C CNN
F 3 "" H 6900 900 50  0001 C CNN
	1    6900 900 
	0    -1   -1   0   
$EndComp
$Comp
L power:GND #PWR022
U 1 1 5E5AD9E3
P 7300 900
F 0 "#PWR022" H 7300 650 50  0001 C CNN
F 1 "GND" H 7305 727 50  0000 C CNN
F 2 "" H 7300 900 50  0001 C CNN
F 3 "" H 7300 900 50  0001 C CNN
	1    7300 900 
	0    -1   -1   0   
$EndComp
$Comp
L tom-passives:R R7
U 1 1 5E5AE2B3
P 7900 1150
F 0 "R7" H 7971 1188 40  0000 L CNN
F 1 "4.7k/5%" H 7971 1112 40  0000 L CNN
F 2 "tom-passives:C_0402_1005Metric" V 7830 1150 30  0001 C CNN
F 3 "" H 7900 1150 30  0000 C CNN
	1    7900 1150
	1    0    0    -1  
$EndComp
Wire Wire Line
	7700 1400 7900 1400
$Comp
L tom-passives:R R6
U 1 1 5E5AF5D9
P 6400 1050
F 0 "R6" H 6471 1088 40  0000 L CNN
F 1 "2.4k/5%" H 6471 1012 40  0000 L CNN
F 2 "tom-passives:C_0402_1005Metric" V 6330 1050 30  0001 C CNN
F 3 "" H 6400 1050 30  0000 C CNN
	1    6400 1050
	1    0    0    -1  
$EndComp
Wire Wire Line
	6000 1200 6000 1500
Wire Wire Line
	6000 1500 6150 1500
$Comp
L power:+3V3 #PWR020
U 1 1 5E5B03D8
P 7900 900
F 0 "#PWR020" H 7900 750 50  0001 C CNN
F 1 "+3V3" H 7915 1073 50  0000 C CNN
F 2 "" H 7900 900 50  0001 C CNN
F 3 "" H 7900 900 50  0001 C CNN
	1    7900 900 
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR017
U 1 1 5E5B073C
P 6400 800
F 0 "#PWR017" H 6400 650 50  0001 C CNN
F 1 "+3V3" H 6415 973 50  0000 C CNN
F 2 "" H 6400 800 50  0001 C CNN
F 3 "" H 6400 800 50  0001 C CNN
	1    6400 800 
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR014
U 1 1 5E5B0A8B
P 6000 700
F 0 "#PWR014" H 6000 550 50  0001 C CNN
F 1 "+3V3" H 6015 873 50  0000 C CNN
F 2 "" H 6000 700 50  0001 C CNN
F 3 "" H 6000 700 50  0001 C CNN
	1    6000 700 
	1    0    0    -1  
$EndComp
$Comp
L tom-passives:R R5
U 1 1 5E5AFC9F
P 6000 950
F 0 "R5" H 6071 988 40  0000 L CNN
F 1 "4.7k/5%" H 6071 912 40  0000 L CNN
F 2 "tom-passives:C_0402_1005Metric" V 5930 950 30  0001 C CNN
F 3 "" H 6000 950 30  0000 C CNN
	1    6000 950 
	1    0    0    -1  
$EndComp
Wire Wire Line
	6400 1300 5900 1300
Connection ~ 6400 1300
Text Label 8550 1500 0    50   ~ 0
CFG_FLASH_CS
Wire Wire Line
	6400 1400 6250 1400
Text Label 8550 1200 0    50   ~ 0
CFG_FLASH_MISO_D1
Text Label 8550 1300 0    50   ~ 0
CFG_FLASH_WP_D2
$Comp
L power:GND #PWR018
U 1 1 5E5BCAAF
P 6400 1600
F 0 "#PWR018" H 6400 1350 50  0001 C CNN
F 1 "GND" H 6405 1427 50  0000 C CNN
F 2 "" H 6400 1600 50  0001 C CNN
F 3 "" H 6400 1600 50  0001 C CNN
	1    6400 1600
	1    0    0    -1  
$EndComp
Text Label 8550 1400 0    50   ~ 0
CFG_FLASH_HOLD_D3
Wire Wire Line
	7700 1500 7800 1500
Wire Wire Line
	7800 1500 7800 1800
Wire Wire Line
	7800 1800 5800 1800
Wire Wire Line
	5800 1800 5800 1900
Wire Wire Line
	5800 1900 3450 1900
Wire Wire Line
	7700 1600 8250 1600
Text Label 8550 1100 0    50   ~ 0
CFG_FLASH_MOSI_D0
Wire Wire Line
	7900 1400 9350 1400
Connection ~ 7900 1400
Wire Wire Line
	8250 1600 8250 1100
Wire Wire Line
	8250 1100 9350 1100
Wire Wire Line
	6250 1400 6250 1900
Wire Wire Line
	6250 1900 8350 1900
Wire Wire Line
	8350 1900 8350 1200
Wire Wire Line
	8350 1200 9350 1200
Wire Wire Line
	9350 1300 8450 1300
Wire Wire Line
	8450 1300 8450 2000
Wire Wire Line
	6150 2000 6150 1500
Connection ~ 6150 1500
Wire Wire Line
	6150 1500 6400 1500
Wire Wire Line
	9350 1500 8550 1500
Wire Wire Line
	8550 1500 8550 2100
Wire Wire Line
	5900 2100 5900 1300
Text Label 3550 1900 0    50   ~ 0
SPI_FLASH_CLK
$Sheet
S 5200 6500 1000 950 
U 5E48AFE6
F0 "Power" 50
F1 "artix7-pcie-v2-power.sch" 50
$EndSheet
$Comp
L tom-connectors:Conn_01x06 J6
U 1 1 5E6BD213
P 4650 950
F 0 "J6" H 4730 942 50  0000 L CNN
F 1 "JTAG" H 4730 851 50  0000 L CNN
F 2 "tom-connectors:PinHeader_1x06_P2.54mm_Vertical_SMD_Pin1Left" H 4650 950 50  0001 C CNN
F 3 "~" H 4650 950 50  0001 C CNN
	1    4650 950 
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR07
U 1 1 5E6BF0FA
P 4450 750
F 0 "#PWR07" H 4450 600 50  0001 C CNN
F 1 "+3V3" H 4465 923 50  0000 C CNN
F 2 "" H 4450 750 50  0001 C CNN
F 3 "" H 4450 750 50  0001 C CNN
	1    4450 750 
	1    0    0    -1  
$EndComp
Wire Wire Line
	4450 950  3650 950 
Wire Wire Line
	3650 1600 3450 1600
Wire Wire Line
	3650 950  3650 1600
Wire Wire Line
	4450 1050 3750 1050
Wire Wire Line
	3750 1050 3750 1700
Wire Wire Line
	3750 1700 3450 1700
Wire Wire Line
	4450 1150 3550 1150
Wire Wire Line
	3550 1150 3550 1500
Wire Wire Line
	3550 1500 3450 1500
Wire Wire Line
	4450 1250 3850 1250
Wire Wire Line
	3850 1250 3850 1400
Wire Wire Line
	3850 1400 3450 1400
Wire Wire Line
	4450 850  3950 850 
Wire Wire Line
	3950 850  3950 1350
$Comp
L power:GND #PWR06
U 1 1 5E6D5933
P 3950 1350
F 0 "#PWR06" H 3950 1100 50  0001 C CNN
F 1 "GND" H 3955 1177 50  0000 C CNN
F 2 "" H 3950 1350 50  0001 C CNN
F 3 "" H 3950 1350 50  0001 C CNN
	1    3950 1350
	1    0    0    -1  
$EndComp
Text Label 4150 950  0    50   ~ 0
TMS
Text Label 4150 1050 0    50   ~ 0
TCK
Text Label 4150 1150 0    50   ~ 0
TDO
Text Label 4150 1250 0    50   ~ 0
TDI
$Comp
L tom-passives:C C1
U 1 1 5E743267
P 5050 1050
F 0 "C1" H 5165 1088 40  0000 L CNN
F 1 "1uF/6.3V/X5R" H 5165 1012 40  0000 L CNN
F 2 "tom-passives:C_0402_1005Metric" H 5088 900 30  0001 C CNN
F 3 "" H 5050 1050 60  0000 C CNN
	1    5050 1050
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR09
U 1 1 5E743271
P 5050 850
F 0 "#PWR09" H 5050 700 50  0001 C CNN
F 1 "+3V3" H 5065 1023 50  0000 C CNN
F 2 "" H 5050 850 50  0001 C CNN
F 3 "" H 5050 850 50  0001 C CNN
	1    5050 850 
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR010
U 1 1 5E74327B
P 5050 1250
F 0 "#PWR010" H 5050 1000 50  0001 C CNN
F 1 "GND" H 5055 1077 50  0000 C CNN
F 2 "" H 5050 1250 50  0001 C CNN
F 3 "" H 5050 1250 50  0001 C CNN
	1    5050 1250
	1    0    0    -1  
$EndComp
Text Notes 4200 1550 0    50   ~ 0
pinout as per seeed studio spartan
$Comp
L tom-passives:R R3
U 1 1 5E75FBB7
P 5500 3050
F 0 "R3" H 5571 3088 40  0000 L CNN
F 1 "4.7k/5%" H 5571 3012 40  0000 L CNN
F 2 "tom-passives:C_0402_1005Metric" V 5430 3050 30  0001 C CNN
F 3 "" H 5500 3050 30  0000 C CNN
	1    5500 3050
	1    0    0    -1  
$EndComp
$Comp
L tom-passives:R R2
U 1 1 5E760C75
P 5100 2950
F 0 "R2" H 5171 2988 40  0000 L CNN
F 1 "4.7k/5%" H 5171 2912 40  0000 L CNN
F 2 "tom-passives:C_0402_1005Metric" V 5030 2950 30  0001 C CNN
F 3 "" H 5100 2950 30  0000 C CNN
	1    5100 2950
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR011
U 1 1 5E7753ED
P 5100 2700
F 0 "#PWR011" H 5100 2550 50  0001 C CNN
F 1 "+3V3" H 5115 2873 50  0000 C CNN
F 2 "" H 5100 2700 50  0001 C CNN
F 3 "" H 5100 2700 50  0001 C CNN
	1    5100 2700
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR012
U 1 1 5E77616B
P 5500 2800
F 0 "#PWR012" H 5500 2650 50  0001 C CNN
F 1 "+3V3" H 5515 2973 50  0000 C CNN
F 2 "" H 5500 2800 50  0001 C CNN
F 3 "" H 5500 2800 50  0001 C CNN
	1    5500 2800
	1    0    0    -1  
$EndComp
Wire Wire Line
	3450 2600 3850 2600
Wire Wire Line
	3850 2600 3850 3300
Wire Wire Line
	3850 3300 5500 3300
Text Label 4150 3300 0    50   ~ 0
PROG_B
Wire Wire Line
	3450 2500 3950 2500
Wire Wire Line
	3950 2500 3950 3200
Wire Wire Line
	3950 3200 5100 3200
Text Label 4150 3200 0    50   ~ 0
INIT_B
Wire Wire Line
	3450 2400 4050 2400
Wire Wire Line
	4050 2400 4050 3100
Wire Wire Line
	4050 3100 4650 3100
$Comp
L tom-passives:R R1
U 1 1 5E7A8CB7
P 4650 2850
F 0 "R1" H 4721 2888 40  0000 L CNN
F 1 "330R/5%" H 4721 2812 40  0000 L CNN
F 2 "tom-passives:C_0402_1005Metric" V 4580 2850 30  0001 C CNN
F 3 "" H 4650 2850 30  0000 C CNN
	1    4650 2850
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR08
U 1 1 5E7AB876
P 4650 2600
F 0 "#PWR08" H 4650 2450 50  0001 C CNN
F 1 "+3V3" H 4665 2773 50  0000 C CNN
F 2 "" H 4650 2600 50  0001 C CNN
F 3 "" H 4650 2600 50  0001 C CNN
	1    4650 2600
	1    0    0    -1  
$EndComp
Text Label 4150 3100 0    50   ~ 0
DONE
$Comp
L power:+3V3 #PWR02
U 1 1 5E7BD9F2
P 3450 2800
F 0 "#PWR02" H 3450 2650 50  0001 C CNN
F 1 "+3V3" V 3465 2928 50  0000 L CNN
F 2 "" H 3450 2800 50  0001 C CNN
F 3 "" H 3450 2800 50  0001 C CNN
	1    3450 2800
	0    1    1    0   
$EndComp
Wire Wire Line
	3450 3000 3550 3000
Wire Wire Line
	3550 3000 3550 3100
$Comp
L power:GND #PWR04
U 1 1 5E7C01C5
P 3550 3850
F 0 "#PWR04" H 3550 3600 50  0001 C CNN
F 1 "GND" H 3555 3677 50  0000 C CNN
F 2 "" H 3550 3850 50  0001 C CNN
F 3 "" H 3550 3850 50  0001 C CNN
	1    3550 3850
	1    0    0    -1  
$EndComp
Wire Wire Line
	3450 3300 3550 3300
Connection ~ 3550 3300
Wire Wire Line
	3550 3300 3550 3400
Wire Wire Line
	3450 3100 3550 3100
Connection ~ 3550 3100
Wire Wire Line
	3550 3100 3550 3300
Wire Wire Line
	3450 3400 3550 3400
Connection ~ 3550 3400
Wire Wire Line
	3550 3400 3550 3600
Wire Wire Line
	3450 3600 3550 3600
Connection ~ 3550 3600
Wire Wire Line
	3550 3600 3550 3700
Wire Wire Line
	3450 3700 3550 3700
Connection ~ 3550 3700
Wire Wire Line
	3550 3700 3550 3850
Wire Wire Line
	3450 2100 3550 2100
$Comp
L power:GND #PWR03
U 1 1 5E7EE2B7
P 3550 2100
F 0 "#PWR03" H 3550 1850 50  0001 C CNN
F 1 "GND" V 3555 1972 50  0000 R CNN
F 2 "" H 3550 2100 50  0001 C CNN
F 3 "" H 3550 2100 50  0001 C CNN
	1    3550 2100
	0    -1   -1   0   
$EndComp
$Comp
L tom-passives:R R4
U 1 1 5E7FB45A
P 5850 2450
F 0 "R4" H 5921 2488 40  0000 L CNN
F 1 "1k/5%" H 5921 2412 40  0000 L CNN
F 2 "tom-passives:C_0402_1005Metric" V 5780 2450 30  0001 C CNN
F 3 "" H 5850 2450 30  0000 C CNN
	1    5850 2450
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR013
U 1 1 5E7FCD8A
P 5850 2700
F 0 "#PWR013" H 5850 2450 50  0001 C CNN
F 1 "GND" H 5855 2527 50  0000 C CNN
F 2 "" H 5850 2700 50  0001 C CNN
F 3 "" H 5850 2700 50  0001 C CNN
	1    5850 2700
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR05
U 1 1 5E815253
P 3850 2000
F 0 "#PWR05" H 3850 1850 50  0001 C CNN
F 1 "+3V3" V 3865 2128 50  0000 L CNN
F 2 "" H 3850 2000 50  0001 C CNN
F 3 "" H 3850 2000 50  0001 C CNN
	1    3850 2000
	0    1    1    0   
$EndComp
Wire Wire Line
	3450 2000 3850 2000
Wire Wire Line
	8550 2100 5900 2100
Wire Wire Line
	8450 2000 6150 2000
$Comp
L tom-connectors:Conn_01x02 J3
U 1 1 5E81BC64
P 6350 2550
F 0 "J3" V 6222 2630 50  0000 L CNN
F 1 "JTAG_EN" V 6313 2630 50  0000 L CNN
F 2 "tom-connectors:PinHeader_1x02_P1.27mm_Vertical" H 6350 2550 50  0001 C CNN
F 3 "~" H 6350 2550 50  0001 C CNN
	1    6350 2550
	0    1    1    0   
$EndComp
Wire Wire Line
	5850 2200 6250 2200
Wire Wire Line
	6250 2200 6250 2350
Connection ~ 5850 2200
$Comp
L power:+3V3 #PWR016
U 1 1 5E82C135
P 6350 2350
F 0 "#PWR016" H 6350 2200 50  0001 C CNN
F 1 "+3V3" H 6365 2523 50  0000 C CNN
F 2 "" H 6350 2350 50  0001 C CNN
F 3 "" H 6350 2350 50  0001 C CNN
	1    6350 2350
	1    0    0    -1  
$EndComp
$Comp
L tom-mechanical:SW_SPST SW1
U 1 1 5E83A5C8
P 6100 3300
F 0 "SW1" H 6100 3535 50  0000 C CNN
F 1 "PROG" H 6100 3444 50  0000 C CNN
F 2 "tom-mechanical:SW_Push_1P1T_NO_CK_KMR2" H 6100 3300 50  0001 C CNN
F 3 "~" H 6100 3300 50  0001 C CNN
	1    6100 3300
	1    0    0    -1  
$EndComp
Wire Wire Line
	5500 3300 5900 3300
Connection ~ 5500 3300
$Comp
L power:GND #PWR015
U 1 1 5E83C7AF
P 6300 3300
F 0 "#PWR015" H 6300 3050 50  0001 C CNN
F 1 "GND" H 6305 3127 50  0000 C CNN
F 2 "" H 6300 3300 50  0001 C CNN
F 3 "" H 6300 3300 50  0001 C CNN
	1    6300 3300
	1    0    0    -1  
$EndComp
Text Label 5350 2200 0    50   ~ 0
M2
Wire Wire Line
	3450 2200 5850 2200
$Comp
L power:+3V3 #PWR01
U 1 1 5E95EFB5
P 3300 600
F 0 "#PWR01" H 3300 450 50  0001 C CNN
F 1 "+3V3" V 3315 728 50  0000 L CNN
F 2 "" H 3300 600 50  0001 C CNN
F 3 "" H 3300 600 50  0001 C CNN
	1    3300 600 
	0    1    1    0   
$EndComp
Wire Wire Line
	2950 600  3050 600 
Connection ~ 3050 600 
Wire Wire Line
	3050 600  3300 600 
$Sheet
S 3850 5150 1250 800 
U 5E98B37D
F0 "artix7-pcie-v2-serdes" 50
F1 "artix7-pcie-v2-serdes.sch" 50
F2 "S1_DRAIN" B R 5100 5500 50 
F3 "S0_VBUS" B R 5100 5250 50 
F4 "S1_VBUS" B R 5100 5400 50 
F5 "S0_USB2_N" B R 5100 5850 50 
F6 "S0_USB2_P" B R 5100 5750 50 
F7 "MGT_REFCLK0_N" I L 3850 5500 50 
F8 "MGT_REFCLK0_P" I L 3850 5400 50 
$EndSheet
$Comp
L tom-passives:DIODE D1
U 1 1 5E74B69F
P 5300 5250
F 0 "D1" H 5300 5134 40  0000 C CNN
F 1 "SBR3U20SA-13‎" H 5300 5134 40  0001 C CNN
F 2 "tom-semiconductors:D_SMA" H 5300 5250 60  0001 C CNN
F 3 "" H 5300 5250 60  0001 C CNN
	1    5300 5250
	1    0    0    1   
$EndComp
$Comp
L power:VCC #PWR066
U 1 1 5E74BCCC
P 5500 5250
F 0 "#PWR066" H 5500 5100 50  0001 C CNN
F 1 "VCC" H 5517 5423 50  0000 C CNN
F 2 "" H 5500 5250 50  0001 C CNN
F 3 "" H 5500 5250 50  0001 C CNN
	1    5500 5250
	-1   0    0    -1  
$EndComp
Text Notes 5250 6000 0    50   ~ 0
USB2 IO & PULLUP
$Comp
L tom-mechanical:SW_SPST SW2
U 1 1 5E8375C3
P 8950 1800
F 0 "SW2" H 8950 2035 50  0000 C CNN
F 1 "SW_SPST" H 8950 1944 50  0000 C CNN
F 2 "tom-mechanical:SW_Push_1P1T_NO_CK_KMR2" H 8950 1800 50  0001 C CNN
F 3 "~" H 8950 1800 50  0001 C CNN
	1    8950 1800
	0    -1   1    0   
$EndComp
$Comp
L tom-passives:R R30
U 1 1 5E83B4C1
P 8950 2500
F 0 "R30" V 8765 2500 40  0000 C CNN
F 1 "1k/5%" V 8841 2500 40  0000 C CNN
F 2 "tom-passives:C_0402_1005Metric" V 8880 2500 30  0001 C CNN
F 3 "" H 8950 2500 30  0000 C CNN
	1    8950 2500
	0    1    1    0   
$EndComp
$Comp
L power:+3V3 #PWR068
U 1 1 5E83D6B8
P 8300 2700
F 0 "#PWR068" H 8300 2550 50  0001 C CNN
F 1 "+3V3" H 8315 2873 50  0000 C CNN
F 2 "" H 8300 2700 50  0001 C CNN
F 3 "" H 8300 2700 50  0001 C CNN
	1    8300 2700
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR069
U 1 1 5E84B26E
P 8950 2000
F 0 "#PWR069" H 8950 1750 50  0001 C CNN
F 1 "GND" H 8955 1827 50  0000 C CNN
F 2 "" H 8950 2000 50  0001 C CNN
F 3 "" H 8950 2000 50  0001 C CNN
	1    8950 2000
	1    0    0    -1  
$EndComp
Text Notes 4400 4450 0    50   ~ 0
TODO \n- add 100Mhz clock source (differential?)\n- 1.8V vcco for lhs banks
Wire Wire Line
	9250 4750 9250 5100
Wire Wire Line
	9250 5100 9350 5100
Wire Wire Line
	9350 5200 9150 5200
Wire Wire Line
	9150 5200 9150 4650
Wire Wire Line
	9050 4550 9050 5300
Wire Wire Line
	9050 5300 9350 5300
Wire Wire Line
	8950 4450 8950 5400
Wire Wire Line
	8950 5400 9350 5400
Wire Wire Line
	8850 4350 8850 5500
Wire Wire Line
	8850 5500 9350 5500
Wire Wire Line
	9350 5600 8750 5600
Wire Wire Line
	8750 5600 8750 4250
Wire Wire Line
	8650 4150 8650 5700
Wire Wire Line
	8650 5700 9350 5700
Wire Wire Line
	9350 5800 8550 5800
Wire Wire Line
	8550 5800 8550 4050
Wire Wire Line
	10750 4650 10750 5200
Wire Wire Line
	10750 5200 10600 5200
Wire Wire Line
	10850 4550 10850 5300
Wire Wire Line
	10850 5300 10600 5300
Wire Wire Line
	10950 4450 10950 5400
Wire Wire Line
	10950 5400 10600 5400
Wire Wire Line
	10600 5500 11050 5500
Wire Wire Line
	11050 5500 11050 4350
Wire Wire Line
	11150 4250 11150 5600
Wire Wire Line
	11150 5600 10600 5600
$Sheet
S 9350 5000 1250 1400
U 5ED151B3
F0 "artix7-pcie-v2-bank15" 50
F1 "artix7-pcie-v2-bank15.sch" 50
F2 "IO_L9_16_P" B L 9350 5100 50 
F3 "IO_L9_16_N" B L 9350 5200 50 
F4 "IO_L11_16_P" B L 9350 5300 50 
F5 "IO_L17_16_P" B L 9350 5500 50 
F6 "IO_L17_16_N" B L 9350 5600 50 
F7 "IO_L11_16_N" B L 9350 5400 50 
F8 "IO_L21_16_P" B R 10600 5100 50 
F9 "IO_L21_16_N" B R 10600 5200 50 
F10 "IO_L20_16_P" B L 9350 5700 50 
F11 "IO_L20_16_N" B L 9350 5800 50 
F12 "IO_L24_16_P" B R 10600 5500 50 
F13 "IO_L24_16_N" B R 10600 5600 50 
F14 "IO_L22_16_N" B R 10600 5400 50 
F15 "IO_L22_16_P" B R 10600 5300 50 
$EndSheet
Wire Wire Line
	10650 4750 10650 5100
Wire Wire Line
	10650 5100 10600 5100
$Comp
L tom-connectors:Conn_01x02 J7
U 1 1 5F035C1E
P 4100 6850
F 0 "J7" H 4100 6950 50  0000 C CNN
F 1 "Conn_01x02" V 4200 6800 50  0000 C CNN
F 2 "tom-connectors:JST-2-SMD" H 4100 6850 50  0001 C CNN
F 3 "~" H 4100 6850 50  0001 C CNN
	1    4100 6850
	-1   0    0    -1  
$EndComp
$Comp
L tom-passives:DIODE D3
U 1 1 5F037142
P 4650 6850
F 0 "D3" H 4650 6734 40  0000 C CNN
F 1 "SBR3U20SA-13‎" H 4650 6734 40  0001 C CNN
F 2 "tom-semiconductors:D_SMA" H 4650 6850 60  0001 C CNN
F 3 "" H 4650 6850 60  0001 C CNN
	1    4650 6850
	1    0    0    1   
$EndComp
$Comp
L power:VCC #PWR0109
U 1 1 5F0388F9
P 4850 6850
F 0 "#PWR0109" H 4850 6700 50  0001 C CNN
F 1 "VCC" H 4867 7023 50  0000 C CNN
F 2 "" H 4850 6850 50  0001 C CNN
F 3 "" H 4850 6850 50  0001 C CNN
	1    4850 6850
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0110
U 1 1 5F03B0F2
P 4300 6950
F 0 "#PWR0110" H 4300 6700 50  0001 C CNN
F 1 "GND" H 4305 6777 50  0000 C CNN
F 2 "" H 4300 6950 50  0001 C CNN
F 3 "" H 4300 6950 50  0001 C CNN
	1    4300 6950
	1    0    0    -1  
$EndComp
Text Notes 4700 7350 0    50   ~ 0
VCC IN
Wire Notes Line
	3900 6450 3900 7400
Wire Notes Line
	3900 7400 5000 7400
Wire Notes Line
	5000 7400 5000 6450
Wire Notes Line
	5000 6450 3900 6450
$Comp
L tom-passives:R R29
U 1 1 5E80B48A
P 5800 5500
F 0 "R29" H 5729 5462 40  0000 R CNN
F 1 "1.5k" H 5729 5538 40  0000 R CNN
F 2 "tom-passives:C_0402_1005Metric" V 5730 5500 30  0001 C CNN
F 3 "" H 5800 5500 30  0001 C CNN
	1    5800 5500
	-1   0    0    1   
$EndComp
Wire Wire Line
	9350 1600 8950 1600
$Comp
L tom-opto:E6C1206RGBC3UDA D2
U 1 1 5F54156C
P 8500 2700
F 0 "D2" H 8500 3217 50  0000 C CNN
F 1 "E6C1206RGBC3UDA" H 8500 3126 50  0000 C CNN
F 2 "tom-opto:E6C1206RGBC3UDA" H 8500 3200 50  0001 C CNN
F 3 "https://datasheet.lcsc.com/szlcsc/1912111437_EKINGLUX-E6C1206RGBC3UDA_C375571.pdf" H 8500 2250 50  0001 C CNN
	1    8500 2700
	-1   0    0    -1  
$EndComp
$Comp
L tom-passives:R R34
U 1 1 5F5485AF
P 8950 2700
F 0 "R34" V 8850 2700 40  0000 C CNN
F 1 "270R/5%" V 9050 2700 40  0000 C CNN
F 2 "tom-passives:C_0402_1005Metric" V 8880 2700 30  0001 C CNN
F 3 "" H 8950 2700 30  0000 C CNN
	1    8950 2700
	0    1    1    0   
$EndComp
$Comp
L tom-passives:R R35
U 1 1 5F5488B0
P 8950 2900
F 0 "R35" V 9050 2900 40  0000 C CNN
F 1 "270R/5%" V 9150 2900 40  0000 C CNN
F 2 "tom-passives:C_0402_1005Metric" V 8880 2900 30  0001 C CNN
F 3 "" H 8950 2900 30  0000 C CNN
	1    8950 2900
	0    1    1    0   
$EndComp
Text Notes 6450 2900 0    50   ~ 0
Red: 3.3-1.9=1.4V/1.5mA=933 use 1k\nGreen/Blue:3.3-2.9=0.4V/1.5mA=266 use 270R
Text Label 4300 6850 0    50   ~ 0
VCC_IN
Wire Wire Line
	4300 6850 4450 6850
$Comp
L tom-connectors:Conn_01x03 J9
U 1 1 5F65FA06
P 11050 2000
F 0 "J9" H 11130 2042 50  0000 L CNN
F 1 "SER1" H 11130 1951 50  0000 L CNN
F 2 "tom-connectors:PinHeader_1x03_P2.54mm_Vertical" H 11050 2000 50  0001 C CNN
F 3 "~" H 11050 2000 50  0001 C CNN
	1    11050 2000
	1    0    0    -1  
$EndComp
$Comp
L tom-connectors:Conn_01x03 J8
U 1 1 5F660288
P 11050 1600
F 0 "J8" H 11130 1642 50  0000 L CNN
F 1 "SER0" H 11130 1551 50  0000 L CNN
F 2 "tom-connectors:PinHeader_1x03_P2.54mm_Vertical" H 11050 1600 50  0001 C CNN
F 3 "~" H 11050 1600 50  0001 C CNN
	1    11050 1600
	1    0    0    -1  
$EndComp
Wire Wire Line
	10850 1500 10600 1500
Wire Wire Line
	10600 1600 10850 1600
Wire Wire Line
	10850 1900 10600 1900
Wire Wire Line
	10600 2000 10850 2000
Wire Wire Line
	10850 1700 10750 1700
Wire Wire Line
	10750 1700 10750 2100
Wire Wire Line
	10850 2100 10750 2100
Connection ~ 10750 2100
Wire Wire Line
	10750 2100 10750 2200
$Comp
L power:GND #PWR0133
U 1 1 5F694A07
P 10750 2200
F 0 "#PWR0133" H 10750 1950 50  0001 C CNN
F 1 "GND" H 10755 2027 50  0000 C CNN
F 2 "" H 10750 2200 50  0001 C CNN
F 3 "" H 10750 2200 50  0001 C CNN
	1    10750 2200
	1    0    0    -1  
$EndComp
Text Notes 7150 5300 0    98   ~ 20
J1
Text Notes 9950 2300 0    98   ~ 20
J2
Wire Wire Line
	5950 5850 5100 5850
Wire Wire Line
	5100 5750 5800 5750
Connection ~ 5800 5750
Wire Wire Line
	5800 5750 5950 5750
Text Label 5950 5750 0    50   ~ 0
S0_USB2_P
Text Label 5950 5850 0    50   ~ 0
S0_USB2_N
Text Label 5800 5250 1    50   ~ 0
S0_USB2_PULLUP
Text Notes 5400 5650 2    50   ~ 0
5V IO needs level shift
Text Label 10650 4150 0    50   ~ 0
S0_USB2_P
Text Label 10650 4050 0    50   ~ 0
S0_USB2_N
Text Label 10650 3850 0    50   ~ 0
S0_USB2_PULLUP
$Sheet
S 9350 1000 1250 3800
U 5E5E2B54
F0 "artix7-pcie-v2-bank14" 50
F1 "artix7-pcie-v2-bank14.sch" 50
F2 "SPI_FLASH_MOSI_D0" B L 9350 1100 50 
F3 "SPI_FLASH_MISO_D1" B L 9350 1200 50 
F4 "SPI_FLASH_WP_D2" B L 9350 1300 50 
F5 "SPI_FLASH_HOLD_D3" B L 9350 1400 50 
F6 "SPI_FLASH_CS" O L 9350 1500 50 
F7 "IO_L9_16_P" B L 9350 4750 50 
F8 "IO_L9_16_N" B L 9350 4650 50 
F9 "IO_L17_16_P" B L 9350 4350 50 
F10 "IO_L17_16_N" B L 9350 4250 50 
F11 "IO_L11_16_N" B L 9350 4450 50 
F12 "IO_L11_16_P" B L 9350 4550 50 
F13 "IO_L21_16_N" B R 10600 4650 50 
F14 "IO_L21_16_P" B R 10600 4750 50 
F15 "IO_L20_16_P" B L 9350 4150 50 
F16 "IO_L20_16_N" B L 9350 4050 50 
F17 "IO_L24_16_N" B R 10600 4250 50 
F18 "IO_L24_16_P" B R 10600 4350 50 
F19 "IO_L22_16_N" B R 10600 4450 50 
F20 "IO_L22_16_P" B R 10600 4550 50 
F21 "IO_L25_14" O R 10600 3850 50 
F22 "IO_L23_14_N" O R 10600 4050 50 
F23 "IO_L23_14_P" O R 10600 4150 50 
F24 "IO_L13_14_P" I L 9350 3950 50 
F25 "IO_L18_14_P" I L 9350 1600 50 
F26 "IO_L16_14_P" I R 10600 1600 50 
F27 "IO_L16_14_N" O R 10600 1500 50 
F28 "IO_L12_14_P" I R 10600 2000 50 
F29 "IO_L12_14_N" O R 10600 1900 50 
F30 "IO_L19_14_P" O L 9350 2900 50 
F31 "IO_L22_14_P" O L 9350 2700 50 
F32 "IO_L24_14_P" O L 9350 2500 50 
F33 "IO_L14_14_P" B L 9350 3600 50 
F34 "IO_L18_14_N" O L 9350 3300 50 
F35 "IO_L14_14_N" B L 9350 3700 50 
F36 "IO_L20_14_N" B L 9350 3800 50 
$EndSheet
Wire Wire Line
	10600 4750 10650 4750
Wire Wire Line
	10750 4650 10600 4650
Wire Wire Line
	10600 4550 10850 4550
Wire Wire Line
	10950 4450 10600 4450
Wire Wire Line
	10600 4350 11050 4350
Wire Wire Line
	11150 4250 10600 4250
Wire Wire Line
	10600 4050 10650 4050
Wire Wire Line
	10650 4150 10600 4150
Wire Wire Line
	10600 3850 10650 3850
Wire Wire Line
	9350 4050 8550 4050
Wire Wire Line
	8650 4150 9350 4150
Wire Wire Line
	9350 4250 8750 4250
Wire Wire Line
	8850 4350 9350 4350
Wire Wire Line
	9350 4450 8950 4450
Wire Wire Line
	9050 4550 9350 4550
Wire Wire Line
	9350 4650 9150 4650
Wire Wire Line
	9250 4750 9350 4750
Wire Wire Line
	9350 2500 9200 2500
Wire Wire Line
	9200 2700 9350 2700
Wire Wire Line
	9350 2900 9200 2900
Wire Wire Line
	9350 3950 8450 3950
$Comp
L tom-connectors:USB_B_Micro J10
U 1 1 5E8C12F7
P 7650 3600
F 0 "J10" H 7707 4067 50  0000 C CNN
F 1 "USB_B_Micro" H 7707 3976 50  0000 C CNN
F 2 "tom-connectors:USB_MICRO_TAOBAO_SMD_PTH" H 7800 3550 50  0001 C CNN
F 3 "~" H 7800 3550 50  0001 C CNN
	1    7650 3600
	1    0    0    -1  
$EndComp
Wire Wire Line
	7950 3600 8700 3600
Wire Wire Line
	7950 3700 9350 3700
$Comp
L tom-passives:R R37
U 1 1 5E8CED0A
P 8950 3300
F 0 "R37" V 9050 3350 40  0000 R CNN
F 1 "1.5k" V 8850 3350 40  0000 R CNN
F 2 "tom-passives:C_0402_1005Metric" V 8880 3300 30  0001 C CNN
F 3 "" H 8950 3300 30  0001 C CNN
	1    8950 3300
	0    1    1    0   
$EndComp
Wire Wire Line
	9200 3300 9350 3300
Wire Wire Line
	8700 3300 8700 3600
Connection ~ 8700 3600
Wire Wire Line
	8700 3600 9350 3600
$Comp
L power:GND #PWR023
U 1 1 5E8DE6DA
P 7650 4100
F 0 "#PWR023" H 7650 3850 50  0001 C CNN
F 1 "GND" H 7655 3927 50  0000 C CNN
F 2 "" H 7650 4100 50  0001 C CNN
F 3 "" H 7650 4100 50  0001 C CNN
	1    7650 4100
	1    0    0    -1  
$EndComp
Wire Wire Line
	7550 4000 7550 4100
Wire Wire Line
	7550 4100 7650 4100
Wire Wire Line
	7650 4000 7650 4100
Connection ~ 7650 4100
$Comp
L tom-passives:DIODE D4
U 1 1 5E8F09A4
P 8250 3400
F 0 "D4" H 8250 3284 40  0000 C CNN
F 1 "SBR3U20SA-13‎" H 8250 3284 40  0001 C CNN
F 2 "tom-semiconductors:D_SMA" H 8250 3400 60  0001 C CNN
F 3 "" H 8250 3400 60  0001 C CNN
	1    8250 3400
	1    0    0    1   
$EndComp
$Comp
L power:VCC #PWR024
U 1 1 5E8F7BC8
P 8450 3400
F 0 "#PWR024" H 8450 3250 50  0001 C CNN
F 1 "VCC" H 8467 3573 50  0000 C CNN
F 2 "" H 8450 3400 50  0001 C CNN
F 3 "" H 8450 3400 50  0001 C CNN
	1    8450 3400
	-1   0    0    -1  
$EndComp
Wire Wire Line
	7950 3800 9350 3800
Wire Wire Line
	7950 3400 8050 3400
Text Label 7950 3400 0    50   ~ 0
VBUS
$Sheet
S 6700 4550 1250 950 
U 5E6D5E13
F0 "artix7-pcie-v2-bank34" 50
F1 "artix7-pcie-v2-bank34.sch" 50
$EndSheet
$Comp
L artix7-pcie-v2:5P49V6965A000NLGI U?
U 1 1 5E8AAA44
P 1250 5600
F 0 "U?" H 1500 4450 50  0000 C CNN
F 1 "5P49V6965A000NLGI" H 2450 4450 50  0000 C CNN
F 2 "QFN50P400X400X100-25N-D" H 2500 6800 50  0001 L CNN
F 3 "https://componentsearchengine.com/Datasheets/1/5P49V6965A000NLGI.pdf" H 2500 6700 50  0001 L CNN
F 4 "Clock Generators & Support Products VersaClock 6E Standard Part" H 2500 6600 50  0001 L CNN "Description"
F 5 "1" H 2500 6500 50  0001 L CNN "Height"
F 6 "972-49V6965A000NLGI" H 2500 6400 50  0001 L CNN "Mouser Part Number"
F 7 "https://www.mouser.com/Search/Refine.aspx?Keyword=972-49V6965A000NLGI" H 2500 6300 50  0001 L CNN "Mouser Price/Stock"
F 8 "IDT" H 2500 6200 50  0001 L CNN "Manufacturer_Name"
F 9 "5P49V6965A000NLGI" H 2500 6100 50  0001 L CNN "Manufacturer_Part_Number"
	1    1250 5600
	1    0    0    -1  
$EndComp
$Comp
L tom-passives:C C?
U 1 1 5E96B2FA
P 3150 5400
AR Path="/5E98B37D/5E96B2FA" Ref="C?"  Part="1" 
AR Path="/5E96B2FA" Ref="C?"  Part="1" 
F 0 "C?" V 2921 5400 40  0000 C CNN
F 1 "0.1uF/6.3V/X5R/PCIE" V 2997 5400 40  0000 C CNN
F 2 "tom-passives:C_0402_1005Metric" H 3188 5250 30  0001 C CNN
F 3 "" H 3150 5400 60  0001 C CNN
	1    3150 5400
	0    1    1    0   
$EndComp
$Comp
L tom-passives:C C?
U 1 1 5E9713AB
P 3500 5500
AR Path="/5E98B37D/5E9713AB" Ref="C?"  Part="1" 
AR Path="/5E9713AB" Ref="C?"  Part="1" 
F 0 "C?" V 3271 5500 40  0000 C CNN
F 1 "0.1uF/6.3V/X5R/PCIE" V 3347 5500 40  0000 C CNN
F 2 "tom-passives:C_0402_1005Metric" H 3538 5350 30  0001 C CNN
F 3 "" H 3500 5500 60  0001 C CNN
	1    3500 5500
	0    -1   -1   0   
$EndComp
Wire Wire Line
	2650 5400 2950 5400
Wire Wire Line
	2650 5500 3300 5500
Wire Wire Line
	3350 5400 3850 5400
Wire Wire Line
	3850 5500 3700 5500
Wire Wire Line
	1650 4500 1750 4500
Connection ~ 1750 4500
Wire Wire Line
	1750 4500 1850 4500
Connection ~ 1850 4500
Wire Wire Line
	1850 4500 1950 4500
Connection ~ 1950 4500
Wire Wire Line
	1950 4500 2050 4500
Connection ~ 2050 4500
Wire Wire Line
	2050 4500 2150 4500
Connection ~ 2150 4500
Wire Wire Line
	2150 4500 2250 4500
$Comp
L power:+3V3 #PWR?
U 1 1 5E9A04CE
P 1650 4400
F 0 "#PWR?" H 1650 4250 50  0001 C CNN
F 1 "+3V3" H 1665 4573 50  0000 C CNN
F 2 "" H 1650 4400 50  0001 C CNN
F 3 "" H 1650 4400 50  0001 C CNN
	1    1650 4400
	1    0    0    -1  
$EndComp
Wire Wire Line
	1650 4400 1650 4500
Connection ~ 1650 4500
$Comp
L power:GND #PWR?
U 1 1 5E9B3562
P 1950 6900
F 0 "#PWR?" H 1950 6650 50  0001 C CNN
F 1 "GND" H 1955 6727 50  0000 C CNN
F 2 "" H 1950 6900 50  0001 C CNN
F 3 "" H 1950 6900 50  0001 C CNN
	1    1950 6900
	1    0    0    -1  
$EndComp
NoConn ~ 2650 6000
NoConn ~ 2650 6100
NoConn ~ 2650 6300
NoConn ~ 2650 6400
Text Label 2650 5400 0    50   ~ 0
OUT1_P
Text Label 2650 5500 0    50   ~ 0
OUT1_N
NoConn ~ 1250 5100
NoConn ~ 1250 5600
NoConn ~ 1250 5700
NoConn ~ 1250 6100
NoConn ~ 1250 6350
$Comp
L tom-passives:R R?
U 1 1 5EA0D58D
P 1150 4550
F 0 "R?" H 1221 4588 40  0000 L CNN
F 1 "10K/5%" H 1221 4512 40  0000 L CNN
F 2 "tom-passives:C_0402_1005Metric" V 1080 4550 30  0001 C CNN
F 3 "" H 1150 4550 30  0000 C CNN
	1    1150 4550
	1    0    0    -1  
$EndComp
$Comp
L tom-passives:R R?
U 1 1 5EA10B13
P 1000 4550
F 0 "R?" H 1071 4588 40  0000 L CNN
F 1 "10K/5%" H 1071 4512 40  0000 L CNN
F 2 "tom-passives:C_0402_1005Metric" V 930 4550 30  0001 C CNN
F 3 "" H 1000 4550 30  0000 C CNN
	1    1000 4550
	-1   0    0    -1  
$EndComp
Wire Wire Line
	1000 4300 1150 4300
$Comp
L power:+3V3 #PWR?
U 1 1 5EA194A5
P 1150 4300
F 0 "#PWR?" H 1150 4150 50  0001 C CNN
F 1 "+3V3" H 1165 4473 50  0000 C CNN
F 2 "" H 1150 4300 50  0001 C CNN
F 3 "" H 1150 4300 50  0001 C CNN
	1    1150 4300
	1    0    0    -1  
$EndComp
Connection ~ 1150 4300
Wire Wire Line
	1250 5200 1150 5200
Wire Wire Line
	1250 5300 1000 5300
Wire Wire Line
	1150 4800 1150 5200
Connection ~ 1150 5200
Wire Wire Line
	1150 5200 850  5200
Wire Wire Line
	1000 4800 1000 5300
Connection ~ 1000 5300
Wire Wire Line
	1000 5300 850  5300
Text Label 850  5200 1    50   ~ 0
CLK_SCL
Text Label 850  5300 3    50   ~ 0
CLK_SDA
$Comp
L tom-passives:CRYSTAL_4PIN X?
U 1 1 5EA3C6A4
P 700 6200
F 0 "X?" V 750 6050 60  0000 R CNN
F 1 "25MHz/10pF" V 650 6050 60  0000 R CNN
F 2 "tom-passives:Crystal_SMD_3225-4Pin_3.2x2.5mm" V 594 6067 60  0001 R CNN
F 3 "" H 700 6200 60  0001 C CNN
	1    700  6200
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1250 5900 700  5900
Wire Wire Line
	700  6500 550  6500
Wire Wire Line
	550  6500 550  5800
Wire Wire Line
	550  5800 1250 5800
$EndSCHEMATC
